(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0ab43a"],{1511:function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"font-roboto bg-gray-100 overflow-auto",staticStyle:{height:"80%"}},[s("div",{staticClass:"px-6 py-8"},[s("div",{staticClass:"flex justify-between container mx-auto"},[s("div",{staticClass:"w-full lg:w-8/12"},[s("div",{staticClass:"flex items-center justify-between"},[s("h1",{staticClass:"text-xl font-bold text-gray-700 md:text-2xl"},[t._v(" "+t._s(t.currentUser.name)+" ")])]),s("div",{staticClass:"post-container"},t._l(t.posts,(function(t){return s("div",{key:t.id,staticClass:"mt-6"},[s("post",{attrs:{data:t}})],1)})),0)]),s("div",{staticClass:"-mx-8 w-4/12 hidden lg:block"},[s("div",{staticClass:"px-8"},[s("div",{staticClass:"flex items-center mb-3"},[s("img",{staticClass:"w-10 h-10 object-cover rounded-full mx-4",attrs:{src:t.currentUser.photo||t.fakePhoto,alt:"avatar"}}),s("h1",{staticClass:"text-xl font-bold text-gray-700"},[t._v(" "+t._s(t.currentUser.name)+" ")])]),s("p",[t._v(t._s(t.currentUser.Fans.length)+" Followers")]),s("p",[t._v(t._s(t.currentUser.bio))])]),s("div",{staticClass:"mt-10 px-8"},[s("h1",{staticClass:"mb-4 text-xl font-bold text-gray-700"},[t._v("Following")]),t._l(t.currentUser.Idols,(function(t){return s("div",{key:t.id,staticClass:"mt-6"},[s("users-list",{attrs:{data:t}})],1)}))],2)])])])])},r=[],n=s("5530"),o=(s("96cf"),s("1da1")),i=s("028f"),c=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"flex flex-col bg-white max-w-sm px-6 py-4 mx-auto rounded-lg shadow-md"},[s("ul",{staticClass:"-mx-4"},[s("li",{staticClass:"flex items-center"},[s("img",{staticClass:"w-10 h-10 object-cover rounded-full mx-4",attrs:{src:t.data.photo||t.fakePhoto,alt:"avatar"}}),s("p",[s("a",{staticClass:"text-gray-700 font-bold mx-1"},[t._v(t._s(t.data.name))]),s("button",{staticClass:"ml-3 px-2 py-1 font-medium tracking-wide text-green-500 capitalize transition-colors duration-300 transform  border border-green-500 rounded-lg hover:border-green-700 hover:text-green-700",on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.removeIdol(t.data.id)}}},[t._v(" Following ")])])])])])},l=[],u=(s("4de4"),s("2f62")),d=s("8845"),f=s("2fa3"),m=s("5fb0"),p={props:["data"],data:function(){return{fakePhoto:m["a"]}},methods:{removeIdol:function(t){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function s(){var a,r,n;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return s.prev=0,s.next=3,d["a"].deleteIdol(t);case 3:a=s.sent,r=a.data,!0===r.success&&(e.currentUser.Idols=e.currentUser.Idols.filter((function(e){return e.id!==t})),f["a"].fire({icon:"success",title:"成功取消追蹤此偶像"})),s.next=12;break;case 8:s.prev=8,s.t0=s["catch"](0),n=s.t0.response.data.message,f["a"].fire({icon:"error",title:n||"無法取消追蹤此偶像，請稍後再試"});case 12:case"end":return s.stop()}}),s,null,[[0,8]])})))()}},computed:Object(n["a"])({},Object(u["b"])(["currentUser"]))},v=p,x=s("2877"),h=Object(x["a"])(v,c,l,!1,null,null,null),b=h.exports,g=s("18a8"),w={name:"User",components:{Post:i["a"],UsersList:b},data:function(){return{posts:[],fakePhoto:m["a"]}},methods:{fetchArticles:function(t){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function s(){var a,r,n;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return s.prev=0,e.isLoading=!0,a="?userId=".concat(t),s.next=5,g["a"].getArticles(a);case 5:r=s.sent,n=r.data,!0===n.success&&(e.posts=n.articles),e.isLoading=!1,s.next=15;break;case 11:s.prev=11,s.t0=s["catch"](0),e.isLoading=!1,f["a"].fire({icon:"error",title:"無法取得文章，請稍後再試"});case 15:case"end":return s.stop()}}),s,null,[[0,11]])})))()}},created:function(){var t=this.$route.params.id;this.fetchArticles(t)},computed:Object(n["a"])({},Object(u["b"])(["currentUser","isAuthenticated"]))},C=w,_=Object(x["a"])(C,a,r,!1,null,null,null);e["default"]=_.exports}}]);
//# sourceMappingURL=chunk-2d0ab43a.6d0f7cf4.js.map